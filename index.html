<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NFOStandard</title>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
     <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            background-color: #f4f4f4;
        }
        header {
            background-color: #ffffff;
            color: #fff;
            padding: 5px 0;
            text-align: left;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 800px;
            margin: 0 auto;
            padding: 0 5px;
        }
        header h1 {
            margin: 0;
            font-size: 2em;
        }
        main {
            padding: 40px 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        section {
            margin-bottom: 40px;
            padding: 20px;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .welcome-section {
            display: flex;
            justify-content: flex-start;
            align-items: flex-start;
        }
        .section-header {
            display: flex;
            width: 100%;
        }
        .logo-container {
            flex-shrink: 0;
            margin-right: 20px; /* Adjust as needed */
            display: flex;
            align-items: center;
        }
        .logo-container img {
            width: 150px; /* Adjust the size as needed */
            height: auto;
        }
        .section-content {
            width: 100%;
        }
        section h2 {
            color: #343a40;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
        }
        ul {
            text-align: left;
            padding-left: 20px;
        }
        pre {
            text-align: left;
            background: #333;
            color: #fff;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
        }
        a.button {
            display: inline-block;
            padding: 10px 20px;
            margin: 20px 0;
            background-color: #007bff;
            color: #fff;
            text-decoration: none;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s ease;
        }
        a.button:hover {
            background-color: #0056b3;
        }
        footer {
            background-color: #343a40;
            color: #fff;
            padding: 10px 0;
            text-align: center;
            position: fixed;
            width: 100%;
            bottom: 0;
            box-shadow: 0 -4px 8px rgba(0, 0, 0, 0.1);
        }
        .support-list {
            list-style: none;
            padding: 0;
            text-align: left;
        }
        .support-list li {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        .chip {
            display: inline-block;
            padding: 5px 10px;
            font-size: 0.9em;
            color: white;
            border-radius: 16px;
            margin-left: 10px;
            flex-shrink: 0;
        }
        .supported {
            background-color: #28a745; /* Green for supported */
        }
        .not-supported {
            background-color: #fd7e14; /* Orange for not supported */
        }
        code {
            background-color: #f8f9fa;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.9em;
        }
        .roadmap {
            text-align: left;
            padding-left: 0;
            margin: 0 auto;
            max-width: 800px;
        }
        .milestone {
            margin-bottom: 20px;
        }
        .milestone-title {
            font-weight: bold;
            display: block;
            margin-bottom: 5px;
        }
        .progress {
            background-color: #e9ecef;
            border-radius: 5px;
            overflow: hidden;
            position: relative;
            margin-bottom: 5px;
        }
        .progress-bar {
            background-color: #007bff;
            height: 24px;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            white-space: nowrap;
            transition: width 0.6s ease;
        }
        .milestone-description {
            margin: 0;
        }
        .validator-container {
            margin-top: 20px;
        }
        .validator-input {
            margin-bottom: 20px;
        }
        .validator-input label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #343a40;
        }
        .validator-input textarea {
            width: 100%;
            min-height: 300px;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-family: 'Courier New', Courier, monospace;
            font-size: 14px;
            line-height: 1.4;
            resize: vertical;
            box-sizing: border-box;
        }
        .validator-input textarea:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
        }
        .validator-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-items: center;
            margin-bottom: 20px;
        }
        .button.secondary {
            background-color: #6c757d;
        }
        .button.secondary:hover {
            background-color: #545b62;
        }
        .checkbox-container {
            display: flex;
            align-items: center;
            cursor: pointer;
            margin-left: auto;
        }
        .checkbox-container input[type="checkbox"] {
            margin-right: 8px;
            transform: scale(1.2);
        }
        .validation-results {
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            background-color: #f8f9fa;
            min-height: 60px;
            display: none;
        }
        .validation-results.show {
            display: block;
        }
        .validation-success {
            color: #155724;
            background-color: #d4edda;
            border-color: #c3e6cb;
        }
        .validation-error {
            color: #721c24;
            background-color: #f8d7da;
            border-color: #f5c6cb;
        }
        .validation-warning {
            color: #856404;
            background-color: #fff3cd;
            border-color: #ffeaa7;
        }
        .error-list {
            margin-top: 15px;
        }
        .error-item {
            margin-bottom: 10px;
            padding: 8px 12px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 4px;
            border-left: 4px solid #dc3545;
        }
        .error-item.warning {
            border-left-color: #ffc107;
        }
        .error-location {
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.9em;
            color: #6c757d;
        }
        .loading {
            opacity: 0.6;
            pointer-events: none;
        }
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                align-items: center;
            }
            .header-content img {
                width: 80%; /* Adjust for mobile */
                margin-bottom: 10px;
            }
            .welcome-section {
                flex-direction: column;
                align-items: flex-start;
            }
            .logo-container {
                display: none; /* Hide the logo on smaller screens */
            }
            .section-content {
                width: 100%;
            }
            .progress-bar {
                height: 20px; /* Adjust for mobile */
            }
            .validator-controls {
                flex-direction: column;
                align-items: stretch;
            }
            .checkbox-container {
                margin-left: 0;
                margin-top: 10px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <img src="nfoStandard-Logo.png" alt="NFOStandard Logo">
            <a class="button" href="https://github.com/Biztactix/NFOStandard" target="_blank">Visit Our GitHub</a>
        </div>
    </header>

    <main>
        <section class="welcome-section">
            <div class="section-header">
                <div class="logo-container">
                    <img src="nfoLogo-Only.png" alt="NFOStandard Logo">
                </div>
                <div class="section-content">
                    <h2>Welcome to NFOStandard v2.0.0</h2>
                    <p>The NFO Standard is an open, unified metadata format for media files. By creating a consistent standard for .nfo files across various media applications, we eliminate the need for each application to create its own format, saving developers countless hours and ensuring compatibility across different platforms.</p>
                    <p>Built to cover 95% of use cases while maintaining extensibility for edge cases, the NFO Standard allows you to store all media-related data in an NFO file next to your media. Any new library systems that support our format can seamlessly bring over all important metadata, watched status, and other crucial information.</p>
                </div>
            </div>
        </section>

        <section>
            <h2>Key Features</h2>
            <ul>
                <li><strong>Unified Structure:</strong> Single, comprehensive format for all .nfo files</li>
                <li><strong>Open Source:</strong> Licensed under The Unlicense - completely free to use</li>
                <li><strong>Extensibility:</strong> Easily extendable for custom use cases (experimental features use <code>x-</code> prefix)</li>
                <li><strong>Modularity:</strong> Separate XSD schema files for different content types</li>
                <li><strong>Backward Compatibility:</strong> Built-in versioning strategy following Semantic Versioning 2.0.0</li>
                <li><strong>Comprehensive Documentation:</strong> Full user guides, API references, and migration guides</li>
                <li><strong>Multiple Format Support:</strong> Converters available for JSON and Protocol Buffers</li>
            </ul>
        </section>

        <section>
            <h2>Supported Media Types</h2>
            <p>The NFO Standard v2.0.0 supports comprehensive metadata for the following media types:</p>
            <ul>
                <li><strong>Movies:</strong> Comprehensive metadata for films (movie.xsd)</li>
                <li><strong>TV Shows:</strong> Detailed information for television series (tvshow.xsd)</li>
                <li><strong>Music:</strong> Information for music tracks and albums (music.xsd)</li>
                <li><strong>Audiobooks:</strong> Metadata for audiobooks (audiobook.xsd)</li>
                <li><strong>Podcasts:</strong> Details for podcast episodes and series (podcast.xsd)</li>
                <li><strong>Anime:</strong> Metadata tailored for anime series and movies (anime.xsd)</li>
                <li><strong>Adult Content:</strong> Specific schema definitions for adult content (adult.xsd)</li>
                <li><strong>Music Videos:</strong> Information for music video content (musicvideo.xsd)</li>
                <li><strong>Generic Videos:</strong> General video content (video.xsd)</li>
            </ul>
            <p>Each media type has its own dedicated XSD schema for validation, with common elements shared through modular schema files.</p>
        </section>

        <section>
            <h2>What's New in Version 2.0.0</h2>
            <p>Version 2.0.0 brings significant improvements and enhanced standards compliance:</p>
            <ul>
                <li><strong>Enhanced Validation:</strong> All type names now use UpperCamelCase convention (e.g., <code>RatingType</code> instead of <code>ratingType</code>)</li>
                <li><strong>ISO Standards Compliance:</strong> Country codes now use ISO 3166-1 alpha-2 format (e.g., "US" instead of "USA")</li>
                <li><strong>Improved Content Rating Structure:</strong> Content ratings now use child elements for better extensibility</li>
                <li><strong>Better Type Constraints:</strong> Rating values limited to 1 decimal place, improved validation patterns</li>
                <li><strong>Testing Infrastructure:</strong> Comprehensive automated testing for all schemas and examples</li>
                <li><strong>Developer Tools:</strong> Protocol Buffer support, migration scripts, and enhanced validation tools</li>
            </ul>
            <h3>Migration from v1 to v2</h3>
            <p>If you're upgrading from v1, key changes include:</p>
            <ul>
                <li>Update your schema location to <code>https://xsd.nfostandard.com/v2/main.xsd</code></li>
                <li>Convert ContentRating elements to the new child element structure</li>
                <li>Update country codes to ISO 3166-1 alpha-2 format</li>
                <li>Update type references to use UpperCamelCase naming</li>
            </ul>
            <p>Version 1 schemas remain available at their original URLs for backward compatibility during migration.</p>
        </section>

        <section>
            <h2>Validation Tools and Libraries</h2>
            <p>To ensure your NFO files conform to the standard, we provide multiple validation tools:</p>
            <ul>
                <li><strong>Python Validator:</strong> Install with <code>pip install nfo-validate</code></li>
                <li><strong>JavaScript/Node.js Validator:</strong> Install with <code>npm install @nfostandard/validator</code></li>
                <li><strong>Direct XSD Validation:</strong> Use any XML validator with our schemas at <code>https://xsd.nfostandard.com/v2/</code></li>
            </ul>
            <h3>Coming Soon - Platform Support</h3>
            <p>We are actively developing plugins for major media platforms:</p>
            <ul class="support-list">
                <li><strong>Plex:</strong> <span class="chip not-supported">In Development</span></li>
                <li><strong>Jellyfin:</strong> <span class="chip not-supported">In Development</span></li>
                <li><strong>Emby:</strong> <span class="chip not-supported">In Development</span></li>
                <li><strong>Kodi:</strong> <span class="chip not-supported">Planned</span></li>
                <li><strong>Sonarr:</strong> <span class="chip not-supported">Planned</span></li>
                <li><strong>Radarr:</strong> <span class="chip not-supported">Planned</span></li>
            </ul>
            <p>If you are a developer, we welcome contributions! Check our GitHub for plugin development guides and migration tools.</p>
        </section>

        <section>
            <h2>Online NFO Validator</h2>
            <p>Validate your NFO files directly in your browser using our online validator. Paste your XML content below to check if it conforms to the NFO Standard v2.0.0 schema:</p>
            
            <div class="validator-container">
                <div class="validator-input">
                    <label for="nfo-content">NFO XML Content:</label>
                    <textarea id="nfo-content" placeholder="Paste your NFO XML content here..." rows="15"></textarea>
                </div>
                
                <div class="validator-controls">
                    <button id="validate-btn" class="button">Validate NFO</button>
                    <button id="clear-btn" class="button secondary">Clear</button>
                    <button id="load-example-btn" class="button secondary">Load Example</button>
                    <label class="checkbox-container">
                        <input type="checkbox" id="strict-mode">
                        <span class="checkmark"></span>
                        Strict mode (check recommended fields)
                    </label>
                </div>
                
                <div id="validation-results" class="validation-results"></div>
            </div>
        </section>

        <section>
            <h2>Project Status</h2>
            <p><strong>üéâ Version 2.0.0 Released!</strong> - The NFO Standard has released version 2.0.0 as of December 9, 2024, with major improvements and enhanced validation.</p>
            <div class="roadmap">
                <div class="milestone">
                    <span class="milestone-title">‚úÖ Version 2.0.0 - Complete!</span>
                    <div class="progress">
                        <div class="progress-bar" style="width: 100%; background-color: #28a745;">100%</div>
                    </div>
                    <p class="milestone-description">Major release with enhanced validation, ISO standards compliance, improved content rating structure, and comprehensive testing infrastructure.</p>
                </div>
                <div class="milestone">
                    <span class="milestone-title">Platform Plugins</span>
                    <div class="progress">
                        <div class="progress-bar" style="width: 15%;">15%</div>
                    </div>
                    <p class="milestone-description">Development of official plugins for Plex, Jellyfin, and Emby to enable native NFO Standard support.</p>
                </div>
                <div class="milestone">
                    <span class="milestone-title">Migration Tools</span>
                    <div class="progress">
                        <div class="progress-bar" style="width: 20%;">20%</div>
                    </div>
                    <p class="milestone-description">Tools to help users migrate their existing NFO files from Kodi, Plex, and Emby formats to the NFO Standard.</p>
                </div>
                <div class="milestone">
                    <span class="milestone-title">Community Adoption</span>
                    <div class="progress">
                        <div class="progress-bar" style="width: 5%;">5%</div>
                    </div>
                    <p class="milestone-description">Growing ecosystem support through community contributions and third-party tool integration.</p>
                </div>
            </div>
            <p><strong>Long-Term Support:</strong> Version 2.0.0 includes backward compatibility with v1 schemas still available for migration purposes.</p>
        </section>

        <section>
            <h2>Example XML File</h2>
            <p>Here's an example of an NFO file for a movie, demonstrating the use of our schema:</p>
            <pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;root xmlns="NFOStandard" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="NFOStandard https://xsd.nfostandard.com/v2/main.xsd"&gt;
  &lt;media&gt;

  &lt;movie&gt;
    &lt;title&gt;Inception&lt;/title&gt;
    &lt;originaltitle&gt;Inception&lt;/originaltitle&gt;
    &lt;sorttitle&gt;Inception&lt;/sorttitle&gt;
    &lt;alternatetitle&gt;Origem&lt;/alternatetitle&gt;
    &lt;alternatetitle&gt;D√©but&lt;/alternatetitle&gt;
    &lt;rating name="imdb" max="10" default="true" value="8.8" votes="200000"/&gt;
    &lt;userrating&gt;9.0&lt;/userrating&gt;
    &lt;outline&gt;A thief who steals corporate secrets through the use of dream-sharing technology is given the inverse task of planting an idea into the mind of a C.E.O.&lt;/outline&gt;
    &lt;plot&gt;Dom Cobb is a skilled thief, the absolute best in the dangerous art of extraction: stealing valuable secrets from deep within the subconscious during the dream state when the mind is at its most vulnerable. Cobb's rare ability has made him a coveted player in this treacherous new world of corporate espionage, but it has also made him an international fugitive and cost him everything he has ever loved. Now Cobb is being offered a chance at redemption. One last job could give him his life back but only if he can accomplish the impossible, inception.&lt;/plot&gt;
    &lt;tagline&gt;Your mind is the scene of the crime.&lt;/tagline&gt;
    &lt;runtime&gt;148&lt;/runtime&gt;
    &lt;banner type="poster" width="300" height="450" url="http://example.com/poster1.jpg"/&gt;
    &lt;thumb type="thumbnail" width="150" height="150" url="http://example.com/thumb1.jpg"/&gt;
    &lt;fanart type="thumbnail" width="150" height="150" url="http://example.com/fanart1.jpg"/&gt;
    &lt;fanart type="thumbnail" width="150" height="150" url="http://example.com/fanart2.jpg"/&gt;    
    &lt;contentrating country="US" board="MPAA"&gt;
      &lt;rating&gt;PG-13&lt;/rating&gt;
      &lt;image&gt;mpaa_pg13.png&lt;/image&gt;
    &lt;/contentrating&gt;
    &lt;uniqueid type="imdb" default="true"&gt;tt1375666&lt;/uniqueid&gt;
    &lt;uniqueid type="tmdb"&gt;12345&lt;/uniqueid&gt;
    &lt;genre&gt;Action&lt;/genre&gt;
    &lt;genre&gt;Sci-Fi&lt;/genre&gt;
    &lt;tag&gt;Heist&lt;/tag&gt;
    &lt;tag&gt;Dream&lt;/tag&gt;
    &lt;setname&gt;Inception Series&lt;/setname&gt;
    &lt;setoverview&gt;Movies about dream extraction.&lt;/setoverview&gt;
    &lt;country&gt;US&lt;/country&gt;
    &lt;productioncompany&gt;Warner Bros.&lt;/productioncompany&gt;
    &lt;keyword&gt;dream&lt;/keyword&gt;
    &lt;keyword&gt;heist&lt;/keyword&gt;
    &lt;releasedate&gt;2010-07-16&lt;/releasedate&gt;
    &lt;award&gt;Academy Award for Best Cinematography&lt;/award&gt;
    &lt;subtitlelanguage&gt;English&lt;/subtitlelanguage&gt;
    &lt;soundtrack&gt;Inception OST&lt;/soundtrack&gt;
    &lt;parentalguide&gt;Some material may be inappropriate for children under 13.&lt;/parentalguide&gt;
    &lt;actor&gt;
      &lt;name&gt;Leonardo DiCaprio&lt;/name&gt;
      &lt;role&gt;Dom Cobb&lt;/role&gt;
      &lt;order&gt;1&lt;/order&gt;
      &lt;thumb&gt;leo.jpg&lt;/thumb&gt;
      &lt;bio&gt;Leonardo Wilhelm DiCaprio is an American actor and film producer.&lt;/bio&gt;
      &lt;url&gt;https://www.imdb.com/name/nm0000138/&lt;/url&gt;
    &lt;/actor&gt;
    &lt;actor&gt;
      &lt;name&gt;Joseph Gordon-Levitt&lt;/name&gt;
      &lt;role&gt;Arthur&lt;/role&gt;
      &lt;order&gt;2&lt;/order&gt;
      &lt;thumb&gt;joseph.jpg&lt;/thumb&gt;
      &lt;bio&gt;Joseph Leonard Gordon-Levitt is an American actor and filmmaker.&lt;/bio&gt;
      &lt;url&gt;https://www.imdb.com/name/nm0330687/&lt;/url&gt;
    &lt;/actor&gt;
    &lt;director&gt;
      &lt;name&gt;Christopher Nolan&lt;/name&gt;
      &lt;thumb&gt;nolan.jpg&lt;/thumb&gt;
      &lt;bio&gt;Christopher Edward Nolan is a British-American film director, screenwriter, and producer.&lt;/bio&gt;
      &lt;url&gt;https://www.imdb.com/name/nm0634240/&lt;/url&gt;
    &lt;/director&gt;
    &lt;writer&gt;
      &lt;name&gt;Christopher Nolan&lt;/name&gt;
      &lt;thumb&gt;nolan.jpg&lt;/thumb&gt;
      &lt;bio&gt;Christopher Edward Nolan is a British-American film director, screenwriter, and producer.&lt;/bio&gt;
      &lt;url&gt;https://www.imdb.com/name/nm0634240/&lt;/url&gt;
    &lt;/writer&gt;
  &lt;/movie&gt;
  &lt;/media&gt;
  &lt;library&gt;
    &lt;appID&gt;YourMediaServer&lt;/appID&gt;
    &lt;libraryid&gt;movies&lt;/libraryid&gt;
    &lt;dateAdded&gt;2024-01-15T00:00:00&lt;/dateAdded&gt;
  &lt;/library&gt;
&lt;/root&gt;
            </pre>
        </section>

        <section>
            <h2>Getting Started</h2>
            <p>Ready to start using the NFO Standard? Here are some quick links to help you:</p>
            <ul>
                <li><strong>Documentation:</strong> Check out our comprehensive <a href="https://github.com/Biztactix/NFOStandard/tree/main/docs">documentation</a></li>
                <li><strong>Examples:</strong> Browse <a href="https://github.com/Biztactix/NFOStandard/tree/main/examples">example NFO files</a> for all media types</li>
                <li><strong>Schemas:</strong> Access our <a href="https://github.com/Biztactix/NFOStandard/tree/main/Schemas">XSD schemas</a> for validation</li>
                <li><strong>Tools:</strong> Download <a href="https://github.com/Biztactix/NFOStandard/tree/main/tools">validation and conversion tools</a></li>
            </ul>
            <div class="header-content" style="margin-top: 30px;">
                <h2>Join the Community</h2>
                <a class="button" href="https://github.com/Biztactix/NFOStandard" target="_blank">Contribute on GitHub</a>
            </div>        
        </section>
    </main>

    <footer>
        <p>&copy; 2024 NFOStandard v2.0.0 | Licensed under The Unlicense | <a href="https://github.com/Biztactix/NFOStandard" style="color: #fff;">GitHub</a></p>
    </footer>

    <script>
        class NFOValidator {
            constructor() {
                this.schemaCache = new Map();
                this.init();
            }

            init() {
                const validateBtn = document.getElementById('validate-btn');
                const clearBtn = document.getElementById('clear-btn');
                const loadExampleBtn = document.getElementById('load-example-btn');
                const nfoContent = document.getElementById('nfo-content');

                validateBtn.addEventListener('click', () => this.validateNFO());
                clearBtn.addEventListener('click', () => this.clearContent());
                loadExampleBtn.addEventListener('click', () => this.loadExample());

                // Auto-resize textarea
                nfoContent.addEventListener('input', (e) => {
                    this.autoResize(e.target);
                });
            }

            autoResize(textarea) {
                textarea.style.height = 'auto';
                textarea.style.height = Math.max(300, textarea.scrollHeight) + 'px';
            }

            async validateNFO() {
                const content = document.getElementById('nfo-content').value.trim();
                const strictMode = document.getElementById('strict-mode').checked;
                const resultsDiv = document.getElementById('validation-results');
                const validateBtn = document.getElementById('validate-btn');

                if (!content) {
                    this.showResult('Please enter NFO XML content to validate.', 'warning');
                    return;
                }

                validateBtn.textContent = 'Validating...';
                validateBtn.classList.add('loading');

                try {
                    const result = await this.performValidation(content, strictMode);
                    this.displayResults(result);
                } catch (error) {
                    this.showResult(`Validation failed: ${error.message}`, 'error');
                } finally {
                    validateBtn.textContent = 'Validate NFO';
                    validateBtn.classList.remove('loading');
                }
            }

            async performValidation(content, strictMode) {
                // Parse XML content
                const parser = new DOMParser();
                const doc = parser.parseFromString(content, 'application/xml');
                
                // Check for XML parsing errors
                const parseError = doc.querySelector('parsererror');
                if (parseError) {
                    throw new Error(`XML parsing error: ${parseError.textContent}`);
                }

                const errors = [];
                const warnings = [];

                // Basic structure validation
                this.validateBasicStructure(doc, errors);
                
                // Namespace validation
                this.validateNamespace(doc, errors);
                
                // Schema location validation
                this.validateSchemaLocation(doc, errors, warnings);
                
                // Content validation
                this.validateContent(doc, errors, warnings, strictMode);

                return {
                    isValid: errors.length === 0,
                    errors,
                    warnings,
                    strictMode
                };
            }

            validateBasicStructure(doc, errors) {
                const root = doc.documentElement;
                
                if (!root || root.tagName !== 'root') {
                    errors.push({
                        message: 'Root element must be <root>',
                        location: 'Document root'
                    });
                    return;
                }

                const mediaElement = root.querySelector('media');
                if (!mediaElement) {
                    errors.push({
                        message: 'Missing required <media> element',
                        location: 'root'
                    });
                    return;
                }

                const mediaTypes = ['movie', 'tvshow', 'music', 'audiobook', 'podcast', 'anime', 'adult', 'musicvideo', 'video'];
                const foundMediaTypes = mediaTypes.filter(type => mediaElement.querySelector(type));
                
                if (foundMediaTypes.length === 0) {
                    errors.push({
                        message: 'Media element must contain one of: ' + mediaTypes.join(', '),
                        location: 'media'
                    });
                } else if (foundMediaTypes.length > 1) {
                    errors.push({
                        message: 'Media element must contain only one media type, found: ' + foundMediaTypes.join(', '),
                        location: 'media'
                    });
                }

                // Check for required title element
                foundMediaTypes.forEach(type => {
                    const mediaTypeElement = mediaElement.querySelector(type);
                    const title = mediaTypeElement.querySelector('title');
                    if (!title || !title.textContent.trim()) {
                        errors.push({
                            message: `Missing required <title> element in <${type}>`,
                            location: type
                        });
                    }
                });
            }

            validateNamespace(doc, errors) {
                const root = doc.documentElement;
                const namespace = root.getAttribute('xmlns');
                
                if (namespace !== 'NFOStandard') {
                    errors.push({
                        message: 'Root element must have xmlns="NFOStandard"',
                        location: 'root xmlns attribute'
                    });
                }

                const xsiNamespace = root.getAttribute('xmlns:xsi');
                if (xsiNamespace !== 'http://www.w3.org/2001/XMLSchema-instance') {
                    errors.push({
                        message: 'Missing or incorrect xmlns:xsi attribute',
                        location: 'root xmlns:xsi attribute'
                    });
                }
            }

            validateSchemaLocation(doc, errors, warnings) {
                const root = doc.documentElement;
                const schemaLocation = root.getAttribute('xsi:schemaLocation');
                
                if (!schemaLocation) {
                    errors.push({
                        message: 'Missing xsi:schemaLocation attribute',
                        location: 'root xsi:schemaLocation attribute'
                    });
                    return;
                }

                const expectedV2 = 'NFOStandard https://xsd.nfostandard.com/v2/main.xsd';
                const expectedV1 = 'NFOStandard https://xsd.nfostandard.com/main.xsd';
                
                if (schemaLocation === expectedV1) {
                    warnings.push({
                        message: 'Using NFO Standard v1 schema. Consider upgrading to v2.',
                        location: 'root xsi:schemaLocation attribute'
                    });
                } else if (schemaLocation !== expectedV2) {
                    errors.push({
                        message: 'Invalid schema location. Expected: ' + expectedV2,
                        location: 'root xsi:schemaLocation attribute'
                    });
                }
            }

            validateContent(doc, errors, warnings, strictMode) {
                this.validateRatings(doc, errors, warnings);
                this.validateDates(doc, errors);
                this.validateCountryCodes(doc, errors);
                this.validateLanguageCodes(doc, errors);
                this.validateUniqueIds(doc, errors);
                
                if (strictMode) {
                    this.validateRecommendedFields(doc, warnings);
                }
            }

            validateRatings(doc, errors, warnings) {
                const ratings = doc.querySelectorAll('rating');
                ratings.forEach((rating, index) => {
                    const value = rating.getAttribute('value');
                    const max = rating.getAttribute('max');
                    
                    if (value !== null) {
                        const numValue = parseFloat(value);
                        if (isNaN(numValue) || numValue < 0) {
                            errors.push({
                                message: `Rating value must be a non-negative number, got: ${value}`,
                                location: `rating[${index + 1}] value attribute`
                            });
                        }
                        
                        if (max !== null) {
                            const maxValue = parseFloat(max);
                            if (!isNaN(maxValue) && numValue > maxValue) {
                                errors.push({
                                    message: `Rating value (${value}) exceeds max (${max})`,
                                    location: `rating[${index + 1}] value attribute`
                                });
                            }
                        }
                    }
                });
            }

            validateDates(doc, errors) {
                const dateElements = doc.querySelectorAll('releasedate, dateAdded, aired, premiered');
                const datePattern = /^\d{4}-\d{2}-\d{2}$/;
                
                dateElements.forEach((element, index) => {
                    const dateValue = element.textContent.trim();
                    if (dateValue && !datePattern.test(dateValue)) {
                        errors.push({
                            message: `Invalid date format. Expected YYYY-MM-DD, got: ${dateValue}`,
                            location: `${element.tagName}[${index + 1}]`
                        });
                    }
                });
            }

            validateCountryCodes(doc, errors) {
                const countryElements = doc.querySelectorAll('country, contentrating[country]');
                const countryPattern = /^[A-Z]{2}$/;
                
                countryElements.forEach((element, index) => {
                    const countryValue = element.getAttribute ? element.getAttribute('country') : element.textContent.trim();
                    if (countryValue && !countryPattern.test(countryValue)) {
                        errors.push({
                            message: `Invalid country code. Expected ISO 3166-1 alpha-2 format (e.g., "US"), got: ${countryValue}`,
                            location: `${element.tagName}[${index + 1}]`
                        });
                    }
                });
            }

            validateLanguageCodes(doc, errors) {
                const langElements = doc.querySelectorAll('language, subtitlelanguage');
                const langPattern = /^[a-z]{2}$/;
                
                langElements.forEach((element, index) => {
                    const langValue = element.textContent.trim();
                    if (langValue && !langPattern.test(langValue)) {
                        errors.push({
                            message: `Invalid language code. Expected ISO 639-1 format (e.g., "en"), got: ${langValue}`,
                            location: `${element.tagName}[${index + 1}]`
                        });
                    }
                });
            }

            validateUniqueIds(doc, errors) {
                const uniqueIdElements = doc.querySelectorAll('uniqueid');
                const idPattern = /^[a-zA-Z0-9_-]{1,50}$/;
                
                uniqueIdElements.forEach((element, index) => {
                    const idValue = element.textContent.trim();
                    if (idValue && !idPattern.test(idValue)) {
                        errors.push({
                            message: `Invalid unique ID format. Must be 1-50 characters, alphanumeric with underscores and hyphens only, got: ${idValue}`,
                            location: `uniqueid[${index + 1}]`
                        });
                    }
                });
            }

            validateRecommendedFields(doc, warnings) {
                const mediaTypes = ['movie', 'tvshow', 'music', 'audiobook', 'podcast', 'anime', 'adult', 'musicvideo', 'video'];
                
                mediaTypes.forEach(type => {
                    const mediaElement = doc.querySelector(`media > ${type}`);
                    if (mediaElement) {
                        const recommendedFields = this.getRecommendedFields(type);
                        recommendedFields.forEach(field => {
                            if (!mediaElement.querySelector(field)) {
                                warnings.push({
                                    message: `Recommended field <${field}> is missing from <${type}>`,
                                    location: type
                                });
                            }
                        });
                    }
                });
            }

            getRecommendedFields(mediaType) {
                const common = ['plot', 'outline', 'genre', 'year', 'uniqueid'];
                
                switch (mediaType) {
                    case 'movie':
                        return [...common, 'director', 'actor', 'runtime', 'rating'];
                    case 'tvshow':
                        return [...common, 'actor', 'creator', 'status'];
                    case 'music':
                        return [...common, 'artist', 'album', 'track'];
                    default:
                        return common;
                }
            }

            displayResults(result) {
                const resultsDiv = document.getElementById('validation-results');
                let html = '';
                let className = '';

                if (result.isValid && result.warnings.length === 0) {
                    html = '<h3>‚úÖ Validation Successful!</h3><p>Your NFO file is valid and conforms to the NFO Standard.</p>';
                    className = 'validation-success';
                } else if (result.isValid && result.warnings.length > 0) {
                    html = '<h3>‚ö†Ô∏è Validation Successful with Warnings</h3><p>Your NFO file is valid but has some recommendations:</p>';
                    className = 'validation-warning';
                } else {
                    html = '<h3>‚ùå Validation Failed</h3><p>Your NFO file has errors that need to be fixed:</p>';
                    className = 'validation-error';
                }

                if (result.errors.length > 0) {
                    html += '<div class="error-list"><h4>Errors:</h4>';
                    result.errors.forEach(error => {
                        html += `<div class="error-item">
                            <strong>${error.message}</strong>
                            <div class="error-location">Location: ${error.location}</div>
                        </div>`;
                    });
                    html += '</div>';
                }

                if (result.warnings.length > 0) {
                    html += '<div class="error-list"><h4>Warnings:</h4>';
                    result.warnings.forEach(warning => {
                        html += `<div class="error-item warning">
                            <strong>${warning.message}</strong>
                            <div class="error-location">Location: ${warning.location}</div>
                        </div>`;
                    });
                    html += '</div>';
                }

                resultsDiv.innerHTML = html;
                resultsDiv.className = `validation-results show ${className}`;
                resultsDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }

            showResult(message, type) {
                const resultsDiv = document.getElementById('validation-results');
                resultsDiv.innerHTML = `<p>${message}</p>`;
                resultsDiv.className = `validation-results show validation-${type}`;
                resultsDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }

            clearContent() {
                document.getElementById('nfo-content').value = '';
                document.getElementById('validation-results').className = 'validation-results';
                document.getElementById('strict-mode').checked = false;
            }

            loadExample() {
                const exampleXML = `<?xml version="1.0" encoding="UTF-8"?>
<root xmlns="NFOStandard" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="NFOStandard https://xsd.nfostandard.com/v2/main.xsd">
  <media>
    <movie>
      <title>Inception</title>
      <originaltitle>Inception</originaltitle>
      <rating name="imdb" max="10" default="true" value="8.8" votes="200000"/>
      <userrating>9.0</userrating>
      <outline>A thief who steals corporate secrets through the use of dream-sharing technology is given the inverse task of planting an idea into the mind of a C.E.O.</outline>
      <plot>Dom Cobb is a skilled thief, the absolute best in the dangerous art of extraction...</plot>
      <tagline>Your mind is the scene of the crime.</tagline>
      <runtime>148</runtime>
      <contentrating country="US" board="MPAA">
        <rating>PG-13</rating>
        <image>mpaa_pg13.png</image>
      </contentrating>
      <uniqueid type="imdb" default="true">tt1375666</uniqueid>
      <uniqueid type="tmdb">12345</uniqueid>
      <genre>Action</genre>
      <genre>Sci-Fi</genre>
      <year>2010</year>
      <country>US</country>
      <releasedate>2010-07-16</releasedate>
      <director>
        <name>Christopher Nolan</name>
      </director>
      <actor>
        <name>Leonardo DiCaprio</name>
        <role>Dom Cobb</role>
        <order>1</order>
      </actor>
    </movie>
  </media>
  <library>
    <appID>YourMediaServer</appID>
    <libraryid>movies</libraryid>
    <dateAdded>2024-01-15T00:00:00</dateAdded>
  </library>
</root>`;
                
                const textarea = document.getElementById('nfo-content');
                textarea.value = exampleXML;
                this.autoResize(textarea);
                document.getElementById('validation-results').className = 'validation-results';
            }
        }

        // Initialize validator when page loads
        document.addEventListener('DOMContentLoaded', () => {
            new NFOValidator();
        });
    </script>
</body>
</html>
